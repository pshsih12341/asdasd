"use strict";
'use client';
Object.defineProperty(exports, "__esModule", { value: true });
exports.LayoutProvider = exports.PrivateLayoutProvider = void 0;
const tslib_1 = require("tslib");
/* eslint-disable valid-jsdoc */
const react_1 = tslib_1.__importDefault(require("react"));
const LayoutContext_1 = require("../contexts/LayoutContext");
const useCurrentActiveMediaQuery_1 = require("../hooks/useCurrentActiveMediaQuery");
const overrideLayoutTheme_1 = require("../utils/overrideLayoutTheme");
function PrivateLayoutProvider({ children, config: override, initialMediaQuery, }) {
    const parentContext = react_1.default.useContext(LayoutContext_1.LayoutContext);
    const theme = react_1.default.useMemo(() => (0, overrideLayoutTheme_1.overrideLayoutTheme)({ theme: parentContext.theme, override }), [override, parentContext.theme]);
    const activeMediaQuery = (0, useCurrentActiveMediaQuery_1.useCurrentActiveMediaQuery)(theme.breakpoints, initialMediaQuery);
    const value = react_1.default.useMemo(() => ({ activeMediaQuery, theme }), [activeMediaQuery, theme]);
    return react_1.default.createElement(LayoutContext_1.LayoutContext.Provider, { value: value }, children);
}
exports.PrivateLayoutProvider = PrivateLayoutProvider;
/**
 * @deprecated - already used as part of ThemeProvider. To override layout theme use `layout` prop
 *
 * Provide context for layout components and current media queries.
 * ---
 * Storybook - https://preview.gravity-ui.com/uikit/?path=/docs/layout--playground#layoutprovider-and-layouttheme
 */
function LayoutProvider({ children }) {
    return children;
}
exports.LayoutProvider = LayoutProvider;
