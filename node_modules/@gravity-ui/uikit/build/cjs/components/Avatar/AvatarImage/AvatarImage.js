"use strict";
'use client';
Object.defineProperty(exports, "__esModule", { value: true });
exports.AvatarImage = void 0;
const tslib_1 = require("tslib");
const react_1 = tslib_1.__importDefault(require("react"));
const constants_1 = require("../constants");
const AvatarImage = ({ imgUrl, fallbackImgUrl, sizes, srcSet, alt, loading, size, className, }) => {
    const [isErrored, setIsErrored] = react_1.default.useState(false);
    const handleError = react_1.default.useCallback(() => {
        setIsErrored(true);
    }, []);
    // Reset error if `imgUrl` was changed to check it again
    react_1.default.useEffect(() => {
        setIsErrored(false);
    }, [imgUrl]);
    return (react_1.default.createElement("img", { className: className, loading: loading, width: constants_1.AVATAR_SIZES[size], height: constants_1.AVATAR_SIZES[size], src: fallbackImgUrl && isErrored ? fallbackImgUrl : imgUrl, sizes: sizes, srcSet: srcSet, alt: alt, onError: handleError }));
};
exports.AvatarImage = AvatarImage;
