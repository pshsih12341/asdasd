"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useOpenState = void 0;
const tslib_1 = require("tslib");
const react_1 = tslib_1.__importDefault(require("react"));
const useControlledState_1 = require("../useControlledState/useControlledState");
const useOpenState = (props) => {
    var _a;
    const { onOpenChange, onClose } = props;
    const handleOpenChange = react_1.default.useCallback((newOpen) => {
        onOpenChange === null || onOpenChange === void 0 ? void 0 : onOpenChange(newOpen);
        if (newOpen === false && onClose) {
            onClose();
        }
    }, [onOpenChange, onClose]);
    const [open, setOpenState] = (0, useControlledState_1.useControlledState)(props.open, (_a = props.defaultOpen) !== null && _a !== void 0 ? _a : false, handleOpenChange);
    const toggleOpen = react_1.default.useCallback((val) => {
        const newOpen = typeof val === 'boolean' ? val : !open;
        setOpenState(newOpen);
    }, [open, setOpenState]);
    return {
        open,
        toggleOpen,
    };
};
exports.useOpenState = useOpenState;
