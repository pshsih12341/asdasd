"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useFormResetHandler = void 0;
const tslib_1 = require("tslib");
const react_1 = tslib_1.__importDefault(require("react"));
function useFormResetHandler({ initialValue, onReset, }) {
    const [formElement, setFormElement] = react_1.default.useState(null);
    const resetValue = react_1.default.useRef(initialValue);
    react_1.default.useEffect(() => {
        if (!formElement) {
            return undefined;
        }
        const handleReset = () => {
            onReset(resetValue.current);
        };
        formElement.addEventListener('reset', handleReset);
        return () => {
            formElement.removeEventListener('reset', handleReset);
        };
    }, [formElement, onReset]);
    const ref = react_1.default.useCallback((node) => {
        var _a;
        setFormElement((_a = node === null || node === void 0 ? void 0 : node.form) !== null && _a !== void 0 ? _a : null);
    }, []);
    return ref;
}
exports.useFormResetHandler = useFormResetHandler;
