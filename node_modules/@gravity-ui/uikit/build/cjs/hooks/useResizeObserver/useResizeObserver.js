"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useResizeObserver = void 0;
const tslib_1 = require("tslib");
const react_1 = tslib_1.__importDefault(require("react"));
function useResizeObserver({ ref, onResize, box, }) {
    react_1.default.useEffect(() => {
        const element = ref === null || ref === void 0 ? void 0 : ref.current;
        if (!element) {
            return undefined;
        }
        if (typeof window.ResizeObserver === 'undefined') {
            window.addEventListener('resize', onResize, false);
            return () => {
                window.removeEventListener('resize', onResize, false);
            };
        }
        const observer = new ResizeObserver((entries) => {
            if (!entries.length) {
                return;
            }
            onResize();
        });
        observer.observe(element, { box });
        return () => {
            observer.disconnect();
        };
    }, [ref, onResize, box]);
}
exports.useResizeObserver = useResizeObserver;
