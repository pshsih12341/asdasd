import React from 'react';
import { Xmark } from '@gravity-ui/icons';
import { Button } from '../Button';
import { Card } from '../Card';
import { Icon } from '../Icon';
import { colorText } from '../Text';
import { Flex, spacing } from '../layout';
import { AlertAction } from './AlertAction';
import { AlertActions } from './AlertActions';
import { AlertContextProvider } from './AlertContextProvider';
import { AlertIcon } from './AlertIcon';
import { AlertTitle } from './AlertTitle';
import { DEFAULT_ICON_SIZE, bAlert } from './constants';
import i18n from './i18n';
export const Alert = (props) => {
    const { theme = 'normal', view = 'filled', layout = 'vertical', message, className, corners, style, onClose, align, qa, } = props;
    return (React.createElement(AlertContextProvider, { layout: layout, view: view },
        React.createElement(Card, { style: style, className: bAlert({ corners }, spacing({ py: 4, px: 5 }, className)), theme: theme, view: view, qa: qa },
            React.createElement(Flex, { gap: "3", alignItems: align },
                typeof props.icon === 'undefined' ? (React.createElement(Alert.Icon, { theme: theme, view: view })) : (props.icon // ability to pass `null` as `icon` prop value
                ),
                React.createElement(Flex, { direction: layout === 'vertical' ? 'column' : 'row', gap: "5", grow: true },
                    React.createElement(Flex, { gap: "2", grow: true, className: bAlert('text-content') },
                        React.createElement(Flex, { direction: "column", gap: "1", grow: true, justifyContent: align },
                            typeof props.title === 'string' ? (React.createElement(Alert.Title, { text: props.title })) : (props.title),
                            message)),
                    Array.isArray(props.actions) ? (React.createElement(Alert.Actions, { items: props.actions })) : (props.actions)),
                onClose && (React.createElement(Button, { view: "flat", className: bAlert('close-btn'), onClick: onClose, extraProps: {
                        'aria-label': i18n('label_close'),
                    } },
                    React.createElement(Icon, { data: Xmark, size: DEFAULT_ICON_SIZE, className: colorText({ color: 'secondary' }) })))))));
};
Alert.Icon = AlertIcon;
Alert.Title = AlertTitle;
Alert.Actions = AlertActions;
Alert.Action = AlertAction;
